---
layout: slides
title: 'XMPP-FTW @ Realtime Conf 2013'
description: 'A worldwind tour around the why and how of XMPP-FTW'
theme: simple
---

<div class="slides">
    <section name="intro">
        <h1>XMPP-FTW<br></h1>
        <div>
        <img src="./images/aardvark-14342.jpg" /><br />
        </div>
        <p>XMPP For The Web</p>
    </section>
        
    <section name="what">
    
        <section name="what-title">
        <h1>What?</h1>
        </section>
            
        <section name="what-goals">
            <blockquote>
                <i class="icon-quote-left icon-4x pull-left icon-muted"></i>
                The goal of XMPP-FTW is to make XMPP really simple to use for (web) developers
            </blockquote>
            <br/>
        </section>
        
        <section name="what-ideals">

            <ul>
                <li>JSON-based API to XMPP</li>
                <li>Events driven</li>
                <li>No client side library</li>
                <li>No hand-holding</li>
                <li>Common sense</li>
                <li>Good documentation</li>
            </ul>
        </section>
        
        <section name="what-tech">
        <h1>Technology</h1>
            
        <p class="left">Written in nodejs</p>
        <p class="left">Doesn't mandate a transport</p>
            <ul>
            <li>Demo system uses a websocket </li>
            <li>Powered by <a href="https://github.com/primus">Primus</a></li>
            </ul>
            <br/><br/>
        <p class="left">Acts as an XMPP client (using `<a href="https://github.com/astro/node-xmpp"><i>node-xmpp</i></a>`)</p>
        <p class="left">Can be run in the browser too</p>
        </section>
        
        <section name="what-modules">

        <h2>Modules...</h2>
    
        <ul>
            <li><strong>xmpp-ftw</strong></li>
            <li>xmpp-ftw-demo</li>
            <li>xmpp-ftw-avatar</li>
            <li>xmpp-ftw-buddycloud</li>
            <li>xmpp-ftw-disco</li>
            <li>xmpp-ftw-item-parser</li>
            <li>xmpp-ftw-muc</li>
            <li>xmpp-ftw-pubsub</li>
            <li>xmpp-ftw-register</li>
            <li>xmpp-ftw-superfeedr</li>
            <li>xmpp-ftw-search</li>
            <li><em>...with more to come...</em></li>
        </ul>
        </section>
            
    </section>    
    
    <section name="code">
        
        <section name="code-title">
        <h1>Code</h1>
        </section>
    
        <section name="code-basic">
            <h2>Getting connected</h2>
                
            <pre><code class="javascript">
            var socket = new Primus('{{ site.prefix }}{{ site.host }}{{ site.port }}')
    
            socket.on('online', function() {
    
                console.log('i haz websocket')
    
                socket.emit('xmpp.login', credentials)
    
                socket.on('xmpp.connection', function() {
    
                    // Now we can do all the things!
    
                })
            })
    
            </code></pre>
            
        </section>
        
        <section name="code-messages">
        <h2>Send/Receive messages</h2>
            
        <pre><code class="javascript">
        socket.emit(
            'xmpp.chat.message',
            {
                "to": "other@evilprofessor.co.uk",
                "content": "Hello world",
             /* "format": "plain", */
             /* "state": "composing" */
            }
        )

        socket.on('xmpp.chat.message', function(data) {
            console.log(data)
        })

        </code></pre>
        
        
        </section>
        
        
        </section>
    
    </section>

    <section>
        <section>
            <h1>Lets PubSub!</h1>
            
            <br/>

            <p>Head over to <a href="{{ site.prefix }}{{ site.host }}{{ site.port }}/demo">{{ site.prefix }}{{ site.host }}{{ site.port }}/demo</a></p>
        
        </section>
        
        <section>
            <h2>Login</h2>
            <br/>
            <p>No time for accounts, anonymous login!</p>
            <p><strong>xmpp.login.anonymous</strong></p>
            
            <pre><code class="json">
            {
                "jid": "anon.evilprofessor.co.uk",
                "host": "localhost"
            }
            </code></pre>
            <br/>
            <p>Tell the server we're here & listening...</p>
            <p><strong>xmpp.presence</strong></p>
            
            <pre><code class="json">
            {}
            </code></pre>
            <br/>
        
        </section>

        <section>
            <h2>Publish to a node</h2>
            <br/>
            <p><strong>xmpp.pubsub.publish</strong></p>
            
            <pre><code class="json">
            {
                "to": "pubsub.evilprofessor.co.uk",
                "node": "message-wall-updates",
                "content": "&lt;your name in lights&gt;"
            }
            </code></pre>
        
        </section>
        
        <section>
            <h2>Retrieve items</h2>
            <br/>
            <p><strong>xmpp.pubsub.retrieve</strong></p>
            
            <pre><code class="json">
            {
                "to": "pubsub.evilprofessor.co.uk",
                "node": "message-wall-updates"
            }
            </code></pre>
        
            <br/>
            <p>Hint: Ctrl/Cmd + Click to enlarge results</p>
        </section>

        <section>
            <h2>Subscribe and get push updates!</h2>
            <br/>
            <p><strong>xmpp.pubsub.subscribe</strong></p>
            <pre><code class="json">
            {
                "to": "pubsub.evilprofessor.co.uk",
                "node": "message-wall-updates"
            }
            </code></pre>

            <br/>
            <p>Items are now received via the 
            <strong>xmpp.pubsub.push.item</strong> event</p>
        </section>
        
    </section>

    <section>
    
        <h2>Gimme, Gimme, Gimme!</h2>
        <br/>
        
        <p><a href="https://xmpp-ftw.jit.su">https://xmpp-ftw.jit.su</a></p>
        <p>Hosted for free by nodejitsu under the 
        <a href="http://opensource.nodejitsu.com/">open source scheme</a>. 
        Please show them some ‚ù§.</p>
        <br/>
        <p>...or...</p>
        <br/>
        <pre style="width:60%;"><code class="javaScript">
        npm i xmpp-ftw-demo
        npm start
        </code></pre>
        
        <p>Manual, websocket connection, demo system</p>
    
        <p><i class="icon-twitter"></i> <a href="https://twitter.com/lloydwatkin">@lloydwatkin</a> <i class="icon-github"></i><a href="https://github.com/lloydwatkin">lloydwatkin</a></p>
    </section>
</div>